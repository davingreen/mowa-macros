"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.callback=exports.authorize=exports.TriggerMacros=exports.ExportPodioData=undefined;var _firebaseFunctions=require("firebase-functions");var FirebaseFunctions=_interopRequireWildcard(_firebaseFunctions);var _auth=require("./auth");var Auth=_interopRequireWildcard(_auth);var _macros=require("./macros");var Macros=_interopRequireWildcard(_macros);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}var ExportPodioData=exports.ExportPodioData=FirebaseFunctions.https.onRequest((req,res)=>{Macros.ExportPodioData().then(success=>res.send(success))});var TriggerMacros=exports.TriggerMacros=FirebaseFunctions.https.onRequest((req,res)=>{if(process.env.NODE_ENV==="development"){req.body={hook_id:-1,item_id:670099179,item_revision_id:1,code:123}}Macros.TriggerMacros(req.body).then(success=>res.sent(success))});var authorize=exports.authorize=FirebaseFunctions.https.onRequest((req,res)=>{Auth.googleOauth().then(url=>{if(!url){return res.send("No bueno.")}return res.redirect(url)})});var callback=exports.callback=FirebaseFunctions.https.onRequest((req,res)=>{if(!req.query||!req.query.code){return res.send("What cha doin there?")}Auth.googleOauthCallback(req.query.code).then(success=>{res.send(success)})});
//# sourceMappingURL=index.js.map