{"version":3,"sources":["../../../src/utils/google-sheets.js"],"names":["authorize","getAuthUrl","getToken","googleAuth","require","auth","client","scope","client_id","secret","redirect","client_scope","OAuth2","generateAuthUrl","access_type","prompt","code","Promise","resolve","reject","err","tokens"],"mappings":"8EAKgBA,S,CAAAA,S,SAKAC,U,CAAAA,U,SAQAC,Q,CAAAA,Q,CAlBhB,KAAMC,YAAaC,QAAQ,qBAAR,CAAnB,CAEA,KAAMC,MAAO,GAAIF,WAAjB,CACA,GAAIG,OAAJ,CAAYC,KAAZ,CAEO,QAASP,UAAT,CAAmBQ,SAAnB,CAA8BC,MAA9B,CAAsCC,QAAtC,CAAgDC,YAAhD,CAA8D,CACpEJ,MAAQI,YAAR,CACA,MAAQL,QAAS,GAAID,MAAKO,MAAT,CAAgBJ,SAAhB,CAA2BC,MAA3B,CAAmCC,QAAnC,CACjB,CAEM,QAAST,WAAT,EAAsB,CAC5B,MAAOK,QAAOO,eAAP,CAAuB,CAC7BC,YAAa,SADgB,CAE7BP,KAF6B,CAG7BQ,OAAQ,SAHqB,CAAvB,CAKP,CAEM,QAASb,SAAT,CAAkBc,IAAlB,CAAwB,CAC9B,MAAO,IAAIC,QAAJ,CAAY,CAACC,OAAD,CAAUC,MAAV,GAAqB,CACvCb,OAAOJ,QAAP,CAAgBc,IAAhB,CAAsB,CAACI,GAAD,CAAMC,MAAN,GAAiB,CACtC,GAAID,GAAJ,CAASD,OAAOC,GAAP,EACTF,QAAQG,MAAR,EACA,MACA,CAJD,CAKA,CANM,CAOP","file":"google-sheets.js","sourcesContent":["const googleAuth = require(\"google-auth-library\")\r\n\r\nconst auth = new googleAuth()\r\nlet client, scope\r\n\r\nexport function authorize(client_id, secret, redirect, client_scope) {\r\n\tscope = client_scope\r\n\treturn (client = new auth.OAuth2(client_id, secret, redirect))\r\n}\r\n\r\nexport function getAuthUrl() {\r\n\treturn client.generateAuthUrl({\r\n\t\taccess_type: \"offline\",\r\n\t\tscope,\r\n\t\tprompt: \"consent\"\r\n\t})\r\n}\r\n\r\nexport function getToken(code) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tclient.getToken(code, (err, tokens) => {\r\n\t\t\tif (err) reject(err)\r\n\t\t\tresolve(tokens)\r\n\t\t\treturn\r\n\t\t})\r\n\t})\r\n}"]}