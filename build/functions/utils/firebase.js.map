{"version":3,"sources":["../../../src/utils/firebase.js"],"names":["data","database","ref","MACROS_CONFIG_PATH","once","val","e","Error","getMacrosConfig","tokens","GOOGLE_CLIENT_TOKEN_PATH","set","setGoogleClientTokens","FirebaseFunctions","FirebaseAdmin","initializeApp","config","firebase"],"mappings":"mNAQO,WAAiC,CACpC,GAAI,CACA,GAAIA,MAAO,KAAMC,UAASC,GAAT,CAAaC,kBAAb,EAAiCC,IAAjC,CAAsC,OAAtC,CAAjB,CACA,MAAOJ,MAAKK,GAAL,EACV,CACD,MAAOC,CAAP,CAAU,CACN,KAAM,IAAIC,MAAJ,CAAU,qCAAV,CACT,CACJ,C,iBARqBC,gB,oIASf,UAAqCC,MAArC,CAA6C,CAChD,GAAI,CACA,MAAO,MAAMR,UAASC,GAAT,CAAaQ,wBAAb,EAAuCC,GAAvC,CAA2CF,MAA3C,CAChB,CACD,MAAOH,CAAP,CAAU,CACN,KAAM,IAAIC,MAAJ,CAAU,mCAAV,CACT,CACJ,C,iBAPqBK,sB,6CAjBtB,qD,GAAYC,kB,6CACZ,6C,GAAYC,c,0pBAEZA,cAAcC,aAAd,CAA4BF,kBAAkBG,MAAlB,GAA2BC,QAAvD,EACA,KAAMhB,UAAWa,cAAcb,QAAd,EAAjB,CACA,KAAME,oBAAqB,eAA3B,CACA,KAAMO,0BAA2BP,mBAAqB,uBAAtD","file":"firebase.js","sourcesContent":["import * as FirebaseFunctions from \"firebase-functions\"\r\nimport * as FirebaseAdmin from \"firebase-admin\"\r\n\r\nFirebaseAdmin.initializeApp(FirebaseFunctions.config().firebase)\r\nconst database = FirebaseAdmin.database()\r\nconst MACROS_CONFIG_PATH = \"MACROS_CONFIG\"\r\nconst GOOGLE_CLIENT_TOKEN_PATH = MACROS_CONFIG_PATH + \"/GOOGLE_CLIENT/tokens\"\r\n\r\nexport async function getMacrosConfig() {\r\n    try {\r\n        let data = await database.ref(MACROS_CONFIG_PATH).once(\"value\")\r\n        return data.val()\r\n    }\r\n    catch (e) {\r\n        throw new Error('Error getting config from Firebase.')\r\n    }\r\n}\r\nexport async function setGoogleClientTokens(tokens) {\r\n    try {\r\n        return await database.ref(GOOGLE_CLIENT_TOKEN_PATH).set(tokens)\r\n    }\r\n    catch (e) {\r\n        throw new Error('Error setting tokens to Firebase.')\r\n    }\r\n}"]}