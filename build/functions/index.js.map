{"version":3,"sources":["../../src/index.js"],"names":["FirebaseFunctions","Auth","Macros","ExportPodioData","https","onRequest","req","res","then","success","send","TriggerMacros","process","env","NODE_ENV","body","hook_id","item_id","item_revision_id","code","sent","authorize","googleOauth","url","redirect","callback","query","googleOauthCallback"],"mappings":"iKAAA,qD,GAAYA,kB,6CACZ,4B,GAAYC,K,gCACZ,gC,GAAYC,O,yQAEL,GAAIC,yCAAkBH,kBAAkBI,KAAlB,CAAwBC,SAAxB,CAAkC,CAACC,GAAD,CAAMC,GAAN,GAAc,CAC5EL,OAAOC,eAAP,GAAyBK,IAAzB,CAA8BC,SAAWF,IAAIG,IAAJ,CAASD,OAAT,CAAzC,CACA,CAF4B,CAAtB,CAGA,GAAIE,qCAAgBX,kBAAkBI,KAAlB,CAAwBC,SAAxB,CAAkC,CAACC,GAAD,CAAMC,GAAN,GAAc,CACzE,GAAIK,QAAQC,GAAR,CAAYC,QAAZ,GAAyB,aAA7B,CAA4C,CAC1CR,IAAIS,IAAJ,CAAW,CACTC,QAAU,CAAC,CADF,CAETC,QAAU,SAFD,CAGTC,iBAAmB,CAHV,CAITC,KAAO,GAJE,CAMZ,CACDjB,OAAOS,aAAP,CAAqBL,IAAIS,IAAzB,EAA+BP,IAA/B,CAAoCC,SAAWF,IAAIa,IAAJ,CAASX,OAAT,CAA/C,CACD,CAV0B,CAApB,CAYA,GAAIY,6BAAYrB,kBAAkBI,KAAlB,CAAwBC,SAAxB,CAAkC,CAACC,GAAD,CAAMC,GAAN,GAAc,CACtEN,KAAKqB,WAAL,GAAmBd,IAAnB,CAAwBe,KAAO,CAC9B,GAAI,CAACA,GAAL,CAAU,CACT,MAAOhB,KAAIG,IAAJ,CAAS,WAAT,CACP,CACD,MAAOH,KAAIiB,QAAJ,CAAaD,GAAb,CACP,CALD,CAMA,CAPsB,CAAhB,CAQA,GAAIE,2BAAWzB,kBAAkBI,KAAlB,CAAwBC,SAAxB,CAAkC,CAACC,GAAD,CAAMC,GAAN,GAAc,CACrE,GAAI,CAACD,IAAIoB,KAAL,EAAc,CAACpB,IAAIoB,KAAJ,CAAUP,IAA7B,CAAmC,CAClC,MAAOZ,KAAIG,IAAJ,CAAS,sBAAT,CACP,CACDT,KAAK0B,mBAAL,CAAyBrB,IAAIoB,KAAJ,CAAUP,IAAnC,EAAyCX,IAAzC,CAA8CC,SAAW,CACxDF,IAAIG,IAAJ,CAASD,OAAT,CACA,CAFD,CAGA,CAPqB,CAAf","file":"index.js","sourcesContent":["import * as FirebaseFunctions from \"firebase-functions\"\r\nimport * as Auth from \"./auth\"\r\nimport * as Macros from \"./macros\"\r\n\r\nexport var ExportPodioData = FirebaseFunctions.https.onRequest((req, res) => {\r\n\tMacros.ExportPodioData().then(success => res.send(success))\r\n})\r\nexport var TriggerMacros = FirebaseFunctions.https.onRequest((req, res) => {\r\n  if (process.env.NODE_ENV === \"development\") {\r\n    req.body = {\r\n      hook_id : -1,\r\n      item_id : 670099179,\r\n      item_revision_id : 1,\r\n      code : 123\r\n    }\r\n  }\r\n  Macros.TriggerMacros(req.body).then(success => res.sent(success))\r\n})\r\n\r\nexport var authorize = FirebaseFunctions.https.onRequest((req, res) => {\r\n\tAuth.googleOauth().then(url => {\r\n\t\tif (!url) {\r\n\t\t\treturn res.send(\"No bueno.\")\r\n\t\t}\r\n\t\treturn res.redirect(url)\r\n\t})\r\n})\r\nexport var callback = FirebaseFunctions.https.onRequest((req, res) => {\r\n\tif (!req.query || !req.query.code) {\r\n\t\treturn res.send(\"What cha doin there?\")\r\n\t}\r\n\tAuth.googleOauthCallback(req.query.code).then(success => {\r\n\t\tres.send(success)\r\n\t})\r\n})"]}